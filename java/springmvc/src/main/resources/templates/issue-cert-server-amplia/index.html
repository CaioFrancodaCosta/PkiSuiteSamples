<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:include="layout :: page">
<body>

<div th:fragment="content">
	<h2 class="ls-title">Issue a certificate storing the key on the server with Amplia</h2>

	<div class="ls-content">

		<form id="issueForm" method="POST">
			<h4>ICP-Brasil Certificate</h4>

			<div class="form-group">
				<label>Subject Name</label>
				<div class="row">
					<div class="col col-sm-4">
						<input id="subjectNameField" name="subjectName" class="form-control" type="text" placeholder="Name" th:required="required" />
					</div>
				</div>
			</div>

			<div class="form-group">
				<label>CPF</label>
				<div class="row">
					<div class="col col-sm-2">
						<input id="cpfField" name="cpf" class="form-control" type="text" placeholder="NÂº CPF" th:required="required" />
					</div>
				</div>
			</div>

			<button id="issueButton" class="btn btn-primary">Issue Certificate</button>
		</form>

	</div>
</div>

<!--
	The file below contains the logic for filling and validating form. It is only an example, feel
	free to alter it to meet your application's needs. You can also bring the code in to the
	javascript block below if you prefer.
-->
<script th:fragment="scripts" th:src="@{js/issue-cert-form.js}"></script>

<script th:fragment="scripts" th:inline="javascript">
	/*<![CDATA[*/
	$(document).ready(function() {
		// Once the page is ready, we call the init() function on the javascript code (see issue-cert-form.js).
		issueCertForm.init({
			issueForm: $('#issueForm'),               // The form that should be submitted when the button "issueButton" is clicked.
			subjectNameField: $('#subjectNameField'), // The "subjectName" field reference.
			cpfField: $('#cpfField'),                 // The "cpf" field reference.
			issueButton: $('#issueButton')            // The button that initiates the issuing operation on server-side.
		});
	});
	/*]]>*/
</script>

</body>
</html>